<!doctype html>
<html lang="en">
  <head>
    <title>Problem Solutions and Random Scripts</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="Content-type"     content="text/html; charset=utf-8" />

    <!-- TODO -->
    <link rel="icon" href="" type="image/x-icon">
    <link rel="shortcut icon" href="" type="image/x-icon">

    <style>
      div {
        text-align: center;
        padding: 20px;
      }

      table {
        width: 80%;
        margin: 0 auto;
        border-collapse: collapse;
        text-align: center;
      }

      th {
        font-weight: bold;
        padding: 10px;
      }

      td {
        padding: 10px 20px;
        border-top: 1px solid black;
      }

      tr:hover {
        background-color: #D7E5FF;
      }
    </style>

    <script>
      function loadData() {
        const xhr = new XMLHttpRequest();
        xhr.overrideMimeType("application/json");
        xhr.open("GET", "https://connormattson.github.io/Misc-Scripts-and-Challenge-Solutions/problemData.json", true);

        xhr.onreadystatechange  = (function(response) {
          const filterDownloads = (function() {
            let data = JSON.parse(xhr.responseText).sort((a,b) => a.filename - b.filename);
            return function(filter) {
              let tableContents = "<tr><th> Filename </th><th> Problem Source </th><th> Problem </th><th> Try me! </th></tr>\n";
              data.filter((element) => element.filename.includes(filter) || element.problem.includes(filter))
                  .forEach(function(element) {
                    tableContents += "<tr><td>" + element.filename + "</td>";
                    tableContents += "<td>" + element.problemSource + "</td>";
                    tableContents += "<td>" + element.problem + "</td>";
                    tableContents += "<td> Coming soon! </td></tr>";
                  });
              document.querySelector("table").innerHTML = tableContents;
            };
          })();
        });

        xhr.send(null);
      }

      window.onload = loadData();
    </script>
  </head>

  <body>
    <div>Search: <input type="text" oninput="filterDownloads(this.value);"/></div>
    <table>
    </table>
  </body>
</html>